CMAKE_MINIMUM_REQUIRED (VERSION 2.8)

PROJECT(SpikeDB CXX)

FIND_PACKAGE(PkgConfig)
FIND_PACKAGE(Boost COMPONENTS python REQUIRED)
FIND_PACKAGE ( PythonLibs )
FIND_PACKAGE ( PythonInterp )
pkg_check_modules(GTKMM gtkmm-2.4)
pkg_check_modules(CAIRO cairo)
pkg_check_modules(SQLITE3 sqlite3)

IF(APPLE)
	SET(PYTHON_INCLUDE_PATH "/opt/local/Library/Frameworks/Python.framework/Headers")
	SET(PYTHON_LIBRARIES "/opt/local/lib/libpython2.7.dylib")
ENDIF(APPLE)

ADD_SUBDIRECTORY(src)

INCLUDE(InstallRequiredSystemLibraries)
SET(CPAKE_PACKAGE_FILE_NAME "SpikeDB")
SET(CPAKE_PACKAGE_ICON "src/SpikeDB.png")
SET(CPAKE_BUNDLE_NAME "SpikeDB")
SET(CPACK_PACKAGE_DESCRIPTION_SUMMARY "SpikeDB")
SET(CPACK_PACKAGE_VENDOR "Brandon Aubie")
SET(CPACK_PACKAGE_VERSION_MAJOR "1")
SET(CPACK_PACKAGE_VERSION_MINOR "1")
SET(CPACK_PACKAGE_VERSION_PATCH "0")
SET(CPACK_PACKAGE_EXECUTABLES "spikedb;SpikeDB")
SET(CPACK_BUNDLE_PLIST "info.plist")
SET(CPACK_BUNDLE_STARTUP_COMMAND "spikedb")
SET(CPACK_GENERATOR "Bundle")
INCLUDE(CPack)
